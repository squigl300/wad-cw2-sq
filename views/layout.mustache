<!-- views/layout.mustache -->

<!DOCTYPE html>
<html>
<head>
  <title>{{title}}</title>
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Include custom styles -->
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<!-- Navigation menu -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/contact">Contact</a></li>
      <li><a href="/items">Available Items</a></li>
      <li><a href="/pantries">Pantries</a></li>
      <li>
      <form action="/items/search" method="GET">
        <input type="text" name="query" placeholder="Search items...">
        <button type="submit">Search</button>
      </form>
    </li>
      {{#user}}
        <li><a href="/profile">Profile</a></li>
        <li><a href="/logout">Logout</a></li>
      {{/user}}
      {{^user}}
        <li><a href="/login">Login</a></li>
        <li><a href="/register">Register</a></li>
         {{#isAdmin}}
        <li><a href="/admin">Admin Dashboard</a></li>
      {{/isAdmin}}
      {{/user}}
    </ul>
  </nav>

<!-- Main content container -->
  <main>
     <div class="container mt-4">
    {{{content}}}
  </div>
  </main>

  {{#success_msg}}
      <div class="alert alert-success">{{success_msg}}</div>
    {{/success_msg}}

    {{#error_msg}}
      <div class="alert alert-danger">{{error_msg}}</div>
    {{/error_msg}}

    {{{content}}}

{{> footer}}

 <!-- Include jQuery and Bootstrap JavaScript -->
  <script src="/js/script.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>